<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="/static/js/jquery.min.js" type="text/javascript"></script>
	<title>修改排班信息</title>
	<link rel="stylesheet" href="/static/css/index.css">
</head>
<body>
	<div class="header-item"><div class="open-site-header"><div class="open-menu-area "><div class="open-nav-menu"><ul class="open-nav-main-menu"><li class="open-menu-item  selected "><div><a class="open-menu-item-text" href="/index">                  首页</a></div><li class="open-menu-item "><div class="open-fn-arrow has-submenu"><a class="open-menu-item-text" target="_blank" href="/schedule">                  医生管理系统</a><div class="menu-popup"><ul class="open-submenu"><li class="open-submenu-item "><div><a target="_blank" href="/update_schedule">排班管理</a></div></li><li class="open-submenu-item "><div><a target="_blank" href="/update_doc">更新医生信息</a></div></li><li class="open-submenu-item "><div><a target="_blank" href="/all_doc">查看医生信息</a></div></li><li class="open-submenu-item "><div><a target="_blank" href="/add_doc">新增医生信息</a></div></li></ul></div></div></li></ul></div></div></div></div>
    <p>
    ID:<input name="id" type="text" class="id" value="请输入要更新的医生ID">
    </p>
    下面请输入要更新的值班时间：
    <p>
    值班时间:<input name="name" class="time" type="text" >
    </p>
    <p>
    <input type="submit" value="保存" onclick="update()">
    </p>
</body>
<script>
    function update(){
		// 1 获取用户输入
		var id = $('.id').val();
		var time = $('.time').val();
		// 2 封装成一个json对象,console.log发送前,检查一下数据
		var post_data = {"id":id,"time":time};
		console.log(post_data)
		// 3 发送异步请求
		$.ajax({
			url:'http://127.0.0.1:8000/update/schedule',
			type:'post',
			dataType:'json',
			data:JSON.stringify(post_data),
			contentType:'application/json',
			success:function(res){
				if(res.code == 200){
					window.location = 'http://127.0.0.1:5000/schedule'
				}else{
					alert(res.error);
				}
			}


		});

	}
</script>
</html>